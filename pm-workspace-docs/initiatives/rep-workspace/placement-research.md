# Placement Research: Rep Workspace

## Analysis Date
2026-01-16

## Codebase Analysis

### Navigation Structure

Current sidebar navigation (from `nav-main.tsx`):
1. Search
2. My meetings  
3. Action items (feature flagged)
4. Customers / Companies / Contacts
5. Chats (AskElephant)
6. Knowledge bases (feature flagged)
7. Automations / Workflows

### Routing Structure

Routes are organized under `/workspaces/:workspaceId/`:
- `engagements` - My meetings list
- `engagements/:engagementId` - Meeting detail
- `action-items` - Action items page
- `customers` / `companies` / `contacts` - Account views
- `chats/:chatId` - Global chat
- `workflows` - Automation builder
- `settings/*` - Configuration pages

### Similar Features Analyzed

**Action Items Page** (`routes/workspaces/$workspaceId/action-items/index.tsx`):
- Uses `Content` wrapper component
- Multi-panel layout with `ResizablePanelGroup`
- Left sidebar for list, main content area for detail
- Context providers for email, chat, video

**Layout Pattern** (`routes/_layout.tsx`):
- `AppSidebar` for navigation
- `SidebarInset` for main content
- `GlobalChat` as resizable panel or overlay

---

## Placement Decision

### Integration Type: **New Page**

Rep Workspace is a primary dashboard experience, not a supporting feature. It deserves first-class routing and navigation.

**Rationale:**
- Dashboard consolidates multiple data types (meetings, tasks, accounts, agent activity)
- Primary interface for sales reps - should be top of nav
- Multiple panels and interactive elements require full page
- Connects to Global Chat as context source

### Navigation Entry: **Top of Sidebar**

| Position | Item | Rationale |
|----------|------|-----------|
| **1 (new)** | **My Workspace** | New rep-focused home |
| 2 | Search | Keep for power users |
| 3 | My meetings | Detailed meeting list |
| 4 | Action items | Task focus |
| 5 | Customers | Account research |
| 6 | Chats | AI assistance |
| 7 | Automations | Workflow config |

**Alternative considered:** Replace "My meetings" as the default landing. However, keeping both allows reps to choose their entry point while workspace serves as the dashboard/home.

### Route Location

```
/workspaces/:workspaceId/workspace
```

or consider:

```
/workspaces/:workspaceId/home
```

The latter is more intuitive as a "home base" for reps.

### Component Location

**Production path:**
```
elephant-ai/web/src/routes/workspaces/$workspaceId/workspace.tsx
```

**Prototype path:**
```
elephant-ai/web/src/components/prototypes/RepWorkspace/
├── RepWorkspaceDashboard.tsx          # Main component
├── RepWorkspaceDashboard.stories.tsx  # Isolated stories
├── contexts/
│   ├── RepWorkspaceInPage.tsx         # Full page with nav context
│   ├── RepWorkspaceNavigation.tsx     # Navigation integration mock
│   └── RepWorkspace.context.stories.tsx  # Context stories
├── widgets/
│   ├── ActionItemsWidget.tsx          # Action items section
│   ├── RecentMeetingsWidget.tsx       # Recent meetings section
│   ├── AccountsWidget.tsx             # My accounts section
│   └── AgentActivityWidget.tsx        # Agent activity section
└── index.ts
```

### Parent Context

- **Parent:** `RootLayout` (provides sidebar, global chat)
- **Wrapper:** Uses `Content` component like other pages
- **Layout:** Dashboard grid layout

### Adjacent Features

| Feature | Integration | Data Sharing |
|---------|-------------|--------------|
| Global Chat | Chat button opens context-aware conversation | Selected account/meeting as context |
| Action Items | Widget pulls pending tasks | Click navigates to action items detail |
| My Meetings | Widget shows recent meetings | Click opens engagement detail |
| Customers | Widget shows accounts | Click opens customer detail |
| CRM Agents | Widget shows agent activity | Click shows approval/detail in Inbox |

---

## Mock Dependencies

These need to be mocked for the prototype:

1. **`useViewer`** - Current user data
2. **`SidebarProvider`** - Navigation context  
3. **GraphQL queries** - Meetings, tasks, accounts data
4. **Global chat context** - Chat panel integration

---

## Ready for Production Checklist

Before promoting from `prototypes/`:

- [ ] Add route to `router.tsx`
- [ ] Add nav item to `nav-main.tsx` (with feature flag)
- [ ] Connect real GraphQL queries
- [ ] Wire up navigation to existing detail pages
- [ ] Add analytics tracking
- [ ] Add feature flag `rep-workspace`
- [ ] Test with real data
- [ ] Mobile responsiveness
- [ ] Empty states for all widgets

---

*Generated by context-proto workflow*
